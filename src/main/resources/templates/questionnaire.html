<!DOCTYPE HTML>
<head>
    <title>COVID-19 Questionaire</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://vuejs.org/js/vue.js"></script>
    <script type="text/javascript">

     function valueChanged(){
        if($('#optionsRadiosInline3').is(":checked")){
            $("#specificsup").show();
        }
         if($('#optionsRadiosInline4').is(":checked")){
            $("#specificsup").hide();
        }
     }

    function _fillin(){
       var name = document.getElementById("pname").value;
       var email = $("#pemail").val();
       var supporttype = $("#sup").val();
       var inside = $('#optionsRadiosInline1').prop('checked');
       var siso = $('#optionsRadiosInline3').prop('checked');
       var symtoms = $('#optionsRadiosInline5').prop('checked');
       var result = "Patient name:" + name + "Email:" + email+ "Remain In Residence for last day:" + inside+ "Need Support:" + siso + "Felling have COVID-19 symptoms:" + symtoms;
       $.ajax({
                url: "/questionnaire?name=" + name + "&email=" + email + "&remainInResidence=" + inside+ "&needSupport=" + siso + "&experienceSymptoms=" + symtoms + "&supportType=" + supporttype,
                type: 'POST',
                success: function(res){
                    $("#status").text(result);
                },
                error: function(res){
                    alert(JSON.stringify(res));
                }
            });
    }
     function _search(){
       var email = $("#searchemail").val();
       $.ajax({
                url: "/result?email=" + email,
                type: 'GET',
                success: function(res){
                    $("#status").text(res);
                },
                error: function(res){
                    alert(JSON.stringify(res));
                }
            });
        }
    </script>
</head>
<body>
<h1>Form</h1>

<form action="#"  method="post">

    <p>Name: <input type="text" id="pname"/></p>
    <p>Email: <input type="text" id="pemail"/></p>

    <label>Since yesterday's questionnaire, have you remained inside you residence?</label>
    <label class="radio-inline">
        <input type="radio" name="optionsRadiosInline1" id="optionsRadiosInline1"/>Yes
    </label>
    <label class="radio-inline">
        <input type="radio" name="optionsRadiosInline1" id="optionsRadiosInline2"/>No
    </label>
    <br>
    <label>Do you need any support to adhere to self-isolation?</label>
    <label class="radio-inline">
        <input type="radio" name="optionsRadiosInline2" id="optionsRadiosInline3" onchange="valueChanged()"/>Yes
    </label>
    <label class="radio-inline">
        <input type="radio" name="optionsRadiosInline2" id="optionsRadiosInline4" onchange="valueChanged()"/>No
    </label>
    <br>
    <div id="specificsup" style="display: none;">
        <label>"what type of support do you need? (food/groceries, medications/prescriptions, pet care)</label>
        <input type="text" id="sup" placeholder="type of support"/></p>
    </div>
    <label>Are you experiencing any symptoms? (cough, fever, runny nose)</label>
    <label class="radio-inline">
        <input type="radio" name="optionsRadiosInline3" id="optionsRadiosInline5"/>Yes
    </label>
    <label class="radio-inline">
        <input type="radio" name="optionsRadiosInline3" id="optionsRadiosInline6"/>No
    </label>
    <br>
    <button type="button" onclick="_fillin()">Add Questionnaire</button>
</form>
<br>
<input type="text" id="searchemail"/>
<br>
<button type="button" onclick="_search()">Search Email</button>

<p id="status"> </p>
<div id="example-1">
    <button @click="counter += 1">Add 1</button>
    <p>The button above has been clicked {{ counter }} times.</p>
</div>
<script type="text/javascript">
    var example1 = new Vue({
        el: '#example-1',
        data: {
            counter: 0
        }
    })

    </script>
</body>
</html>

